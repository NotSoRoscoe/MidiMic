#include "MIDITranslate.hh"


/*float NOTE_FREQS[27] = {103.214, 111.153, 119.093, 127.033, 134.972,
            			142.912, 150.851, 158.791, 166.73,  174.67,
            			182.609, 198.488, 206.428, 222.307, 230.246,
            			246.126, 262.005, 277.884, 293.763, 309.642,
            			333.46,  349.339, 373.158, 396.977, 412.856,
            			444.614, 468.432 };*/

float NOTE_FREQS[38] = {102.382, 110.257, 118.113, 126.008, 133.884,
            			141.759, 149.635, 157.510, 165.386, 173.261,
            			189.012, 196.888, 204.763, 220.514, 236.265,
            			244.141, 259.892, 275.643, 291.394, 315.020,
            			330.771, 346.522, 370.149, 393.775, 417.402,
            			441.028, 464.655, 496.157, 527.659, 551.285,
            			590.663, 622.165, 661.542, 700.920, 740.297,
            			787.550, 834.803, 882.056};

int MIDI_VALS[37] =  {44, 45, 46, 47, 48,  // G#2, A2, A#2, B2, C3
					  49, 50, 51, 52, 53,  // C#3, D3, D#3, E3, F3	
					  54, 55, 56, 57, 58,  // F#3, G3, G#3, A3, A#3
					  59, 60, 61, 62, 63,  // B3,  C4, C#4, D4, D#4
					  64, 65, 66, 67, 68,  // E4,  F4, F#4, G4, G#4
					  69, 70, 71, 72, 73,  // A4
					  74, 75, 76, 77, 78,
					  79, 80};				   

int rangeSize = 37;
int minMidi = MIDI_VALS[0];

int getMidiVal(float freq) {
	
	int midpoint;

	for (int i = 0; i < rangeSize; i++) {
		midpoint = (NOTE_FREQS[i] + NOTE_FREQS[i+1]) / 2;

		// note range not supported
		if ((freq < NOTE_FREQS[0]) || (freq >= NOTE_FREQS[rangeSize])) {
			return -1;
		}

		if( freq > midpoint) {
			
		} else {
			return MIDI_VALS[i];
		}
	}
}
